{"remainingRequest":"E:\\CL\\1_code\\project\\xz_vue\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!E:\\CL\\1_code\\project\\xz_vue\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\CL\\1_code\\project\\xz_vue\\vue_app_00\\src\\components\\GoodList.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\CL\\1_code\\project\\xz_vue\\vue_app_00\\src\\components\\GoodList.vue","mtime":1554779883866},{"path":"E:\\CL\\1_code\\project\\xz_vue\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"E:\\CL\\1_code\\project\\xz_vue\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"E:\\CL\\1_code\\project\\xz_vue\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  props: [\"lid\"],\n  data: function data() {\n    return {\n      pno: 1,\n      hasMore: true,\n      list: [] //接收服务器返回商品数组\n\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    console.log(this.$router.query.lid); //当组件创建成功后，请求第一页数据\n    //1:创建变量保存请求地址 url\n\n    var url = \"http://127.0.0.1:3000\";\n    url += \"/getGoodList\"; //2:发送ajax请求 无参数\n\n    this.axios.get(url).then(function (result) {\n      //3:接收返回商品数组\n      _this.list = result.data.data; //第一页数据\n      //4:保存list\n      //console.log(this.list);\n    });\n  },\n  methods: {\n    loadMore: function loadMore() {\n      var _this2 = this;\n\n      if (this.hasMore == false) {\n        this.$toast('已经没有更多的数据......');\n        return;\n      } //加载下一页数据\n\n\n      this.pno++; //1:创建url请求地址\n\n      var url = \"http://127.0.0.1:3000/\";\n      url += \"getGoodList\"; //2:添加参数pno=2\n\n      url += \"?pno=\" + this.pno; //3:发送ajax请求\n      //4:获取服务器数据\n      //5:将返回数据保存 list\n\n      this.axios.get(url).then(function (result) {\n        // this.list = result.data.data;\n        // 练习1:第一页,第二页原先覆盖  17:56\n        //       第二页追加第一页后面\n        //       concat()\n        // 练习2:加载功能loadMore 1 2 3 4\n        var rows = _this2.list.concat(result.data.data);\n\n        _this2.list = rows;\n\n        if (_this2.pno >= result.data.pageCount) {\n          _this2.hasMore = false;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["GoodList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAiBA,eAAA;AACA,SAAA,CAAA,KAAA,CADA;AAEA,MAFA,kBAEA;AACA,WAAA;AACA,WAAA,CADA;AAEA,eAAA,IAFA;AAGA,YAAA,EAHA,CAGA;;AAHA,KAAA;AAKA,GARA;AASA,SATA,qBASA;AAAA;;AACA,YAAA,GAAA,CAAA,KAAA,OAAA,CAAA,KAAA,CAAA,GAAA,EADA,CAEA;AACA;;AACA,QAAA,MAAA,uBAAA;AACA,WAAA,cAAA,CALA,CAMA;;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA;AACA,YAAA,IAAA,GAAA,OAAA,IAAA,CAAA,IAAA,CAFA,CAGA;AACA;AACA;AACA,KANA;AAOA,GAvBA;AAwBA,WAAA;AACA,YADA,sBACA;AAAA;;AACA,UAAA,KAAA,OAAA,IAAA,KAAA,EAAA;AACA,aAAA,MAAA,CAAA,iBAAA;AACA;AACA,OAJA,CAKA;;;AACA,WAAA,GAAA,GANA,CAOA;;AACA,UAAA,MAAA,wBAAA;AACA,aAAA,aAAA,CATA,CAUA;;AACA,aAAA,UAAA,KAAA,GAAA,CAXA,CAYA;AACA;AACA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA;AACA;AACA;AACA;AACA;AACA,YAAA,OAAA,OAAA,IAAA,CAAA,MAAA,CAAA,OAAA,IAAA,CAAA,IAAA,CAAA;;AACA,eAAA,IAAA,GAAA,IAAA;;AACA,YAAA,OAAA,GAAA,IAAA,OAAA,IAAA,CAAA,SAAA,EAAA;AACA,iBAAA,OAAA,GAAA,KAAA;AACA;AACA,OAXA;AAYA;AA5BA;AAxBA,CAAA","sourcesContent":["<!--src/components/home/GoodList.vue-->\r\n<template>\r\n  <div class=\"app-goodlist\">\r\n    <!--1:商品列表 二行二列-->\r\n    <div class=\"goods-item\" v-for=\"item of list\" :key=\"item.i\">\r\n      <!--1.1图片-->\r\n      <img src=\"http://127.0.0.1:3000/indeximg12.jpg\">\r\n      <!--1.2商品名称-->\r\n      <h4>{{item.lname}}</h4>\r\n      <!--1.3商品价格-->\r\n      <h4 class=\"now\">{{item.price}}</h4>\r\n    </div>\r\n    <!--2:添加按钮 mint-ui Button-->\r\n    <mt-button size=\"large\" type=\"primary\" @click=\"loadMore\">加载更多</mt-button>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props:[\"lid\"],\r\n  data() {\r\n    return {\r\n      pno:1,\r\n      hasMore:true,\r\n      list:[] //接收服务器返回商品数组\r\n    }\r\n  },\r\n  created() {\r\n    console.log(this.$router.query.lid)\r\n    //当组件创建成功后，请求第一页数据\r\n    //1:创建变量保存请求地址 url\r\n    var url = \"http://127.0.0.1:3000\";\r\n    url += \"/getGoodList\";\r\n    //2:发送ajax请求 无参数\r\n    this.axios.get(url).then(result => {\r\n      //3:接收返回商品数组\r\n      this.list = result.data.data;\r\n      //第一页数据\r\n      //4:保存list\r\n      //console.log(this.list);\r\n    });\r\n  },\r\n  methods: {\r\n    loadMore() {\r\n      if(this.hasMore==false){\r\n        this.$toast('已经没有更多的数据......');\r\n        return;\r\n      }\r\n      //加载下一页数据\r\n      this.pno++;\r\n      //1:创建url请求地址\r\n      var url = \"http://127.0.0.1:3000/\";\r\n      url += \"getGoodList\";\r\n      //2:添加参数pno=2\r\n      url += \"?pno=\"+this.pno;\r\n      //3:发送ajax请求\r\n      //4:获取服务器数据\r\n      //5:将返回数据保存 list\r\n      this.axios.get(url).then(result => {\r\n        // this.list = result.data.data;\r\n        // 练习1:第一页,第二页原先覆盖  17:56\r\n        //       第二页追加第一页后面\r\n        //       concat()\r\n        // 练习2:加载功能loadMore 1 2 3 4\r\n        var rows = this.list.concat(result.data.data);\r\n        this.list = rows;\r\n         if(this.pno >= result.data.pageCount){\r\n          this.hasMore=false\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n/*外层父元素*/\r\n.app-goodlist {\r\n  display: flex; /*弹性布局*/\r\n  flex-wrap: wrap; /*子元素换行*/\r\n  justify-content: space-between; /*两端对齐*/\r\n  padding: 4px;\r\n}\r\n/*商品信息*/\r\n.app-goodlist .goods-item {\r\n  width: 49%; /*商品元素宽度*/\r\n  border: 1px solid #ccc; /*边框*/\r\n  margin: 2px 0; /*外补丁*/\r\n  padding: 2px; /*内补丁*/\r\n  display: flex; /*弹性布局*/\r\n  flex-direction: column; /*排列方式:按列*/\r\n  min-height: 245px; /*最小高度*/\r\n}\r\n/*商品图片*/\r\n.app-goodlist .goods-item img {\r\n  width: 100%;\r\n}\r\n</style>\r\n"],"sourceRoot":"src\\components"}]}